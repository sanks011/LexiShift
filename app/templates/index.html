</head>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dyslexia-Friendly Document Converter</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    />
    <style>
      @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes moveBackground {
    0% {
      background-position: 0 0;
    }
    100% {
      background-position: 100% 100%;
    }
  }

  body {
    font-family: "Arial", sans-serif;
    margin: 0;
    padding: 0;
    line-height: 1.6;
    color: #333;
    overflow-x: hidden;
    
    animation: moveBackground 20s linear infinite;
  }
  .feedback-popup {
display: none;
position: fixed;
z-index: 1000;
left: 0;
top: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.5);
animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
from { opacity: 0; }
to { opacity: 1; }
}

.feedback-content {
background-color: #ffffff;
margin: 15% auto;
padding: 30px;
width: 400px;
max-width: 90%;
text-align: center;
border-radius: 10px;
box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
position: relative;
animation: slideDown 0.5s ease-out;
}

@keyframes slideDown {
from { transform: translateY(-50px); opacity: 0; }
to { transform: translateY(0); opacity: 1; }
}

.feedback-content h2 {
color: #333;
margin-bottom: 10px;
}

.feedback-content p {
color: #666;
margin-bottom: 20px;
}

.feedback-buttons {
display: flex;
justify-content: center;
gap: 20px;
}

/* Component: Buttons */
.btn {
padding: 0.625rem 1.25rem;
border: none;
border-radius: 0.375rem;
cursor: pointer;
font-size: 1rem;
font-weight: 500;
transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
          box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-good {
background-color: rgb(76, 175, 80);
color: white;
}

.btn-improve {
background-color: rgb(244, 67, 54);
color: white;
}

.btn:hover {
transform: translateY(-2px);
box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.close-btn {
position: absolute;
top: 0.625rem;
right: 0.9375rem;
font-size: 1.5rem;
color: #6b7280;
background: transparent;
border: none;
cursor: pointer;
transition: color 0.2s ease;
padding: 0.25rem;
}

.close-btn:hover {
color: #111827;
}

/* Layout */
.container {
max-width: 75rem;
margin-inline: auto;
padding-inline: 1.25rem;
width: min(100% - 2rem, 75rem);
}

/* Navigation */
nav {
color: white;
padding: 1rem;
position: fixed;
inset-block-start: 0;
inset-inline: 0;
z-index: 100;
transition: background-color 0.3s ease;
backdrop-filter: blur(8px);
-webkit-backdrop-filter: blur(8px);
}

nav.scrolled {
background-color: rgb(81 59 84 / 0.28);
}

.nav-content {
display: flex;
justify-content: space-between;
align-items: center;
gap: 1rem;
font-weight: 600;
}

.logo {
font-size: clamp(1.25rem, 2vw, 1.5rem);
font-weight: 700;
}

.logo span {
color: rgb(0 0 0);
}

.nav-links {
display: flex;
gap: 1.25rem;
}

.nav-links a {
color: white;
text-decoration: none;
transition: color 0.2s ease;
}

.nav-links a:hover {
color: rgb(52 152 219);
}

/* Converter Section */
.converter {
background-color: rgb(244 244 244);
padding-block: 4rem;
}

.file-upload {
border: 2px dashed rgb(52 152 219);
padding: 2rem;
text-align: center;
margin-block-end: 2rem;
transition: background-color 0.3s ease;
border-radius: 0.5rem;
}

.file-upload:hover {
background-color: rgb(52 152 219 / 0.1);
}

/* Settings */
.settings {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 2rem;
border-radius: 1.25rem;
padding-block: 4rem;
}

.settings label {
display: block;
margin-block-end: 0.5rem;
font-weight: 500;
}

.settings select,
.settings input {
width: 100%;
padding: 0.5rem;
margin-block-end: 1rem;
border: 1px solid rgb(209 213 219);
border-radius: 1.25rem;
transition: border-color 0.2s ease,
          box-shadow 0.2s ease;
}

.settings select:focus,
.settings input:focus {
outline: none;
border-color: rgb(52 152 219);
box-shadow: 0 0 0 2px rgb(52 152 219 / 0.2);
}

/* Convert Button */
.convert-btn {
background-color: black;
border-radius: 1.25rem;
padding: 1rem 2rem;
font-size: 1.2rem;
font-weight: 600;
color: white;
border: 2px solid black;
margin-inline: auto;
display: block;
transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
          box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1),
          background-color 0.2s ease;
}

.convert-btn:hover {
box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1),
          0 4px 6px -4px rgb(0 0 0 / 0.1);
transform: translateY(-2px);
}

.convert-btn:active {
color: black;
background-color: white;
}
  

 /* Footer */
footer {
background-color: rgb(248 248 248);
padding-block: 1.25rem;
margin-block-start: 3.125rem;
}

footer .container {
display: flex;
justify-content: space-between;
align-items: center;
flex-wrap: wrap;
gap: 1rem;
}

.footer-links {
display: flex;
gap: 1rem;
flex-wrap: wrap;
}

.footer-links a {
color: rgb(102 102 102);
text-decoration: none;
transition: color 0.2s ease;
}

.footer-links a:hover {
color: rgb(51 51 51);
text-decoration: underline;
}

footer p {
font-size: 0.9rem;
color: rgb(102 102 102);
margin: 0;
}

/* Scroll to Top Button */
.scroll-to-top {
position: fixed;
inset-block-end: 1.25rem;
inset-inline-end: 1.25rem;
background-color: rgb(0 0 0);
color: white;
width: 2.5rem;
height: 2.5rem;
border-radius: 50%;
display: grid;
place-items: center;
font-size: 1.5rem;
cursor: pointer;
opacity: 0;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
border: none;
}

.scroll-to-top.visible {
opacity: 1;
}

.scroll-to-top:hover {
transform: translateY(-4px);
box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
}

/* Scroll Animations */
.animate-on-scroll {
opacity: 0;
transform: translateY(1.25rem);
transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
will-change: transform, opacity;
}

.animate-on-scroll.visible {
opacity: 1;
transform: translateY(0);
}

/* Hero Section */
.hero {
color: white;
padding-block: 4rem;
position: relative;
min-height: 100vh;
display: grid;
place-items: center;
}

.hero-content {
display: flex;
justify-content: space-between;
align-items: center;
height: min(600px, 80vh);
width: 100%;
}

.hero-text {
flex: 1;
text-align: center;
}

.hero h1 {
font-size: clamp(2rem, 5vw, 2.5rem);
margin-block-end: 1rem;
line-height: 1.2;
}

.hero p {
font-size: clamp(1rem, 2vw, 1.25rem);
margin-block-end: 2rem;
max-width: 60ch;
margin-inline: auto;
}

.hero-buttons {
display: flex;
gap: 1rem;
justify-content: center;
margin-block-start: 2rem;
}

.hero-buttons button {
padding: 0.75rem 1.5rem;
border: 2px solid currentColor;
border-radius: 1.25rem;
font-weight: 600;
min-width: 8.125rem;
transition: color 0.3s ease,
          background-color 0.3s ease;
}

.hero-buttons button:hover {
color: rgb(244 244 244);
background-color: rgb(0 0 0);
}

.get-started {
background-color: white;
color: black;
}

.video-background {
position: absolute;
inset: 0;
width: 100%;
height: 100%;
object-fit: cover;
z-index: -1;
}

#cursor-animation {
position: fixed;
inset: 0;
pointer-events: none;
z-index: 9999;
}

.hero-text span {
color: rgb(0 0 0);
}

@media (max-width: 768px) {
.hero-content {
flex-direction: column;
text-align: center;
height: auto;
}

.hero-buttons {
position: static;
flex-direction: column;
align-items: center;
}
}
  #bg-video {
position: fixed;
right: 0;
bottom: 0;
min-width: 100%;
min-height: 100%;
width: auto;
height: auto;
z-index: -1000;
object-fit: cover;
}

/* Optional: style to dim the video for better text visibility */
/* Video Overlay */
.video-overlay {
position: fixed;
inset: 0;
background-color: rgb(0 0 0 / 0.5);
z-index: -1;
}

/* Progress Bar */
.progress {
height: 2.5rem;
margin-block: 1.25rem 0.625rem;
background-color: rgb(255 255 255);
border-radius: 0.25rem;
box-shadow: inset 0 2px 4px rgb(0 0 0 / 0.05);
overflow: hidden;
}

.progress-bar {
width: 0;
height: 100%;
font-size: 0.875rem;
line-height: 2.5rem;
color: white;
text-align: center;
background-color: rgb(9 178 239);
box-shadow: inset 0 -1px 0 rgb(0 0 0 / 0.15);
transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Journey and Team Sections */
.our-journey,
.meet-the-team {
flex: 1;
padding: 2rem;
}

/* Timeline */
.timeline {
position: relative;
padding-inline-start: 2rem;
border-inline-start: 2px solid rgb(52 152 219);
}

.timeline-item {
margin-block-end: 2rem;
position: relative;
}

.timeline-icon {
position: absolute;
inset-inline-start: -2.7rem;
inset-block-start: 0;
background: rgb(52 152 219);
color: white;
width: 2.5rem;
height: 2.5rem;
border-radius: 50%;
display: grid;
place-items: center;
transition: transform 0.2s ease;
}

.timeline-icon:hover {
transform: scale(1.1);
}

.timeline-content {
background: rgb(248 249 250);
padding: 1rem;
border-radius: 0.375rem;
box-shadow: 0 1px 3px rgb(0 0 0 / 0.1);
transition: transform 0.2s ease;
}

.timeline-content:hover {
transform: translateX(0.25rem);
}

/* Team Members */
.team-members {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 2rem;
padding: 2rem;
}

/* Recommendations */
.recommendations {
padding-block: 3.125rem;
background-color: rgb(249 249 249);
text-align: center;
}

.recommendations .container {
width: min(75rem, 100% - 2.5rem);
margin-inline: auto;
}

.recommendations h2 {
font-size: clamp(1.875rem, 4vw, 2.5rem);
margin-block-end: 1.25rem;
line-height: 1.2;
}

@media (max-width: 768px) {
.timeline {
padding-inline-start: 1.5rem;
}

.timeline-icon {
inset-inline-start: -2.2rem;
width: 2rem;
height: 2rem;
}
}
#chatbot {
position: fixed;
bottom: 20px;
right: 20px;
}
#chatbot-toggle {
background-color: #3498db;
color: white;
border: none;
border-radius: 50%;
width: 50px;
height: 50px;
cursor: pointer;
}
#chatbot-window {
position: fixed;
bottom: 80px;
right: 20px;
width: 300px;
height: 400px;
border: 1px solid #ddd;
border-radius: 10px;
box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
.learn-more {
background-color: white;
    color: black;
    border-radius: 30px;
    cursor: pointer;
    font-weight: bold;
    width: 100px;
    height: 35px;
      display:flex;
    padding-left:42px;
    padding-top:5px;
    transition: color 0.40s, background-color 0.40s; 
    text-decoration:none;
    
}

.learn-more:hover {
color: white;
background-color: #000000;
}


    </style>
  </head>
  <body>
    <nav id="navbar">
      <div class="container nav-content">
        <div class="logo">LEXI<span>SHIFT</span></div>
        <div class="nav-links">
          <a href="#hero">Home</a>
          <a href="#converter"
            ><i class="fa fa-refresh" aria-hidden="true"></i> Convert</a
          >
          <a href="{{ url_for('main.about') }}">About Us</a>
        </div>
      </div>
    </nav>

    <section id="hero" class="hero">
      <div class="container hero-content">
        <video autoplay muted loop id="bg-video">
    <source src="{{ url_for('static', filename='video.mp4') }}" type="video/mp4">
    Your browser does not support the video tag.
</video>
        <div class="hero-text">
          <h1>Welcome to LEXI<span>SHIFT</span></h1>
          <p>Making reading easier for everyone</p>
          <div class="hero-buttons">
            <button class="get-started" id="get-started-btn">
              Get Started
            </button>
            <a href="{{ url_for('main.learn_more') }}" class="learn-more">
                        Library
                    </a>
          </div>
        </div>
      </div>
    </section>

    <section id="converter" class="converter">
        <div class="container">
            <div class="file-upload animate-on-scroll">
                <h2>Upload your PDF</h2>
                <form id="convertForm" action="/" method="post" enctype="multipart/form-data">
                    <input type="file" accept="application/pdf" name="file" required />
                    <div class="settings animate-on-scroll">
                        <div>
                            <label for="font_name"><i class="fa fa-font" aria-hidden="true"></i> Select Font:</label>
                            <select name="font_name" id="font_name">
                                <option value="OpenDyslexic">OpenDyslexic</option>
                            </select>
                        </div>
                        <div>
                            <label for="font_size"><i class="fas fa-text-height"></i> Font Size:</label>
                            <input type="number" name="font_size" id="font_size" min="12" max="40" value="12" />
                        </div>
                        <div>
                            <label for="line_spacing"><i class="fas fa-text-width"></i> Line Spacing:</label>
                            <input type="number" name="line_spacing" id="line_spacing" min="5" max="22" step="0.1" value="14" />
                        </div>
                        <div>
                            <label for="letter_spacing"><i class="fas fa-text-width"></i> Letter Spacing:</label>
                            <input type="number" name="letter_spacing" id="letter_spacing" min="0.1" max="40" step="0.1" value="0.5" />
                        </div>
                        <div class="form-group">
                            <label for="color_option">Text Color:</label>
                            <select name="color_option" id="color_option" class="form-control">
                                <option value="default">Default (Black)</option>
                                <option value="random">Random Color</option>
                                <option value="custom">Custom Color</option>
                            </select>
                            
                            <input type="color" name="text_color" id="text_color" 
                                   class="form-control" value="#000000" 
                                   style="display: none;">
                        </div>
                    </div>
                    
            </div>
            <button class="convert-btn animate-on-scroll" type="submit"><i class="fas fa-exchange-alt"></i> Convert</button>
<!-- Adding a section for AI-generated recommendations -->
<section id="recommendations" class="recommendations">
  <div class="container">
    <h2>AI Recommendations</h2>
    <p id="ai-recommendations-text">Our AI suggests the best settings for your document:</p>
    <ul id="ai-recommendations-list"></ul>
  </div>
</section>


            <div id="progress-container" style="display: none;">
  <div class="progress">
    <div id="progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
  </div>
  <span id="progress-text">0%</span>
</div>
          </form>
        </div>
    </section>

    <div id="feedbackPopup" class="feedback-popup">
  <div class="feedback-content">
    <h2>How was the converted document?</h2>
    <p>Your feedback helps us improve our service &#128515;.</p>
    <div class="feedback-buttons">
      <button onclick="sendFeedback(1)" class="btn btn-good">
        <i class="fas fa-thumbs-up"></i> Good
      </button>
      <button onclick="sendFeedback(0)" class="btn btn-improve">
        <i class="fas fa-thumbs-down"></i> Needs Improvement
      </button>
    </div>
    <button onclick="closeFeedbackPopup()" class="close-btn">&times;</button>
  </div>
</div>
<script>
function sendFeedback(rating) {
  // Send feedback to the AI service
  fetch('your_ai_service_url', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ rating: rating })
  }).then(response => response.json())
    .then(data => console.log('Feedback received:', data))
    .catch(error => console.error('Error:', error));

  closeFeedbackPopup();
}

function closeFeedbackPopup() {
  document.getElementById('feedbackPopup').style.display = 'none';
}
</script>
      <footer>
        <div class="container">
          <div class="footer-links">
            <a href="{{ url_for('main.contact') }}">Contact</a>
            <a href="{{ url_for('main.privacy') }}">Privacy Policy</a>
            <a href="{{ url_for('main.terms') }}">Terms of Use</a>
          </div>
          <p>&copy; 2024 Lexishift. All rights reserved.</p>
        </div>
      </footer>
    </section>

    <div class="scroll-to-top" id="scroll-to-top">&#9650;</div>
    <canvas id="cursor-animation"></canvas>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      $("#convertForm").on("submit", function () {
  setTimeout(function () {
    showFeedbackPopup();
  }, 20000); 
});

function showFeedbackPopup() {
  document.getElementById("feedbackPopup").style.display = "flex";
}

function closeFeedbackPopup() {
  const popup = document.getElementById("feedbackPopup");
  popup.style.animation = "fadeOut 0.3s ease-out";
  setTimeout(() => {
    popup.style.display = "none";
    popup.style.animation = "";
  }, 300);
}

function sendFeedback(feedback) {
  $.ajax({
    url: "/feedback",
    type: "POST",
    contentType: "application/json",
    data: JSON.stringify({
      feedback: feedback,
      font_name: $("#font_name").val(),
      font_size: $("#font_size").val(),
      line_spacing: $("#line_spacing").val(),
      letter_spacing: $("#letter_spacing").val(),
      text_color: $("#text_color").val(),
    }),
    success: function (response) {
      showThankYouMessage();
    },
  });
}

function showThankYouMessage() {
  const content = document.querySelector(".feedback-content");
  content.innerHTML = `
    <h2>Thank You!</h2>
    <p>We appreciate your feedback.</p>
    <button onclick="closeFeedbackPopup()" class="btn btn-good">Close</button>
  `;
}
    </script>

   <script>
document.getElementById('convertForm').addEventListener('submit', function(event) {
  event.preventDefault();
  const formData = new FormData(this);

  fetch('/ai_recommendations', {
    method: 'POST',
    body: formData
  })
  .then(response => response.json())
  .then(data => {
    const recommendationsList = document.getElementById('ai-recommendations-list');
    recommendationsList.innerHTML = '';

    data.recommendations.forEach(rec => {
      const li = document.createElement('li');
      li.textContent = rec;
      recommendationsList.appendChild(li);
    });
  })
  .catch(error => console.error('Error:', error));
});

</script>

    

    <script>
      const canvas = document.getElementById("cursor-animation");
      const ctx = canvas.getContext("2d");
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      let particles = [];
      const maxParticles = 50;

      class Particle {
        constructor(x, y) {
          this.x = x;
          this.y = y;
          this.size = Math.random() * 5 + 1;
          this.speedX = Math.random() * 3 - 1.5;
          this.speedY = Math.random() * 3 - 1.5;
          this.color = `hsla(${Math.random() * 360}, 100%, 50%, 0.8)`;
        }

        update() {
          this.x += this.speedX;
          this.y += this.speedY;
          if (this.size > 0.1) this.size -= 0.1;
        }

        draw() {
          ctx.fillStyle = this.color;
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.fill();
        }
      }

      function handleParticles() {
        for (let i = 0; i < particles.length; i++) {
          particles[i].update();
          particles[i].draw();
          if (particles[i].size <= 0.3) {
            particles.splice(i, 1);
            i--;
          }
        }
      }
      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        handleParticles();
        requestAnimationFrame(animate);
      }

      window.addEventListener("mousemove", function (e) {
        if (particles.length < maxParticles) {
          particles.push(new Particle(e.x, e.y));
        }
      });

      animate();

      window.addEventListener("resize", function () {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      });
    </script>
    <script>
      const getStartedBtn = document.getElementById("get-started-btn");
      const converterSection = document.getElementById("converter");

      getStartedBtn.addEventListener("click", () => {
        converterSection.scrollIntoView({ behavior: "smooth" });
      });

      const navbar = document.getElementById("navbar");
      const scrollToTopBtn = document.getElementById("scroll-to-top");
      const animateTargets = document.querySelectorAll(".animate-target");
      const animateOnScrollElems =
        document.querySelectorAll(".animate-on-scroll");
      let currentImageIndex = 0;
      const heroSection = document.querySelector(".hero");

      window.addEventListener("scroll", () => {
        if (window.scrollY > 50) {
          navbar.classList.add("scrolled");
          scrollToTopBtn.classList.add("visible");
        } else {
          navbar.classList.remove("scrolled");
          scrollToTopBtn.classList.remove("visible");
        }

        animateOnScrollElems.forEach((elem) => {
          if (isInViewport(elem)) {
            elem.classList.add("visible");
          }
        });
      });
      scrollToTopBtn.addEventListener("click", () => {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      });
      function isInViewport(elem) {
        const rect = elem.getBoundingClientRect();
        return (
          rect.top >= 0 &&
          rect.left >= 0 &&
          rect.bottom <=
            (window.innerHeight || document.documentElement.clientHeight) &&
          rect.right <=
            (window.innerWidth || document.documentElement.clientWidth)
        );
      }
      document.addEventListener("DOMContentLoaded", () => {
        animateTargets.forEach((target) => {
          target.classList.add("visible");
        });
      });
    </script>
    <script>
  $("#convertForm").on("submit", function (e) {
    e.preventDefault();
    const formData = new FormData(this);
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');
    const progressContainer = document.getElementById('progress-container');
    
    progressContainer.style.display = 'block';
    simulateProgress();
    
    fetch('/', {
      method: 'POST',
      body: formData
    })
    .then(response => response.blob())
    .then(blob => {
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'dyslexia_friendly.pdf';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      progressContainer.style.display = 'none';
    })
    .catch(error => {
      console.error('Error:', error);
      progressContainer.style.display = 'none';
    });
  });

  function simulateProgress() {
    let progress = 0;
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.getElementById('progress-text');
    
    const interval = setInterval(() => {
      if (progress >= 90) {
        clearInterval(interval);
      } else {
        progress += Math.random() * 10;
        progress = Math.min(progress, 90);
        updateProgress(progress);
      }
    }, 500);

    function updateProgress(value) {
      progressBar.style.width = `${value}%`;
      progressBar.setAttribute('aria-valuenow', value);
      progressText.textContent = `${Math.round(value)}%`;
    }
  }
  
</script>

<script>
document.getElementById('color_option').addEventListener('change', function() {
    const colorPicker = document.getElementById('text_color');
    colorPicker.style.display = this.value === 'custom' ? 'block' : 'none';
});
</script>
  </body>
</html>